<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="css/main.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant:ital,wght@1,300&display=swap" rel="stylesheet">
    
    <title>My Chat App</title>

</head>

<body>
    <main>
        <div class="topbar">
            <div class="animated fadeIn">
            <h1 class="hidden">Sweet chat</h1>
            </div>
            <h2>You are doing great! Take a break</h2>
        </div>
        <hr class="line1">
        <hr class="line2">
        <hr class="line3">
        <hr class="line4">
        <hr class="line5">
        <hr class="line6">


        <div class="mainCon">
        <div><input type = "text" name = "name" placeholder = "your name" required></div>
        <div><input type="password" name = "password" placeholder="password"></div>

        <button type = "submit" name = "button"><a href="chat">Let me chat!</a></button>
        </div>
        <!-- temp hack to bypass login -->
        

        <script src="/socket.io/socket.io.js"></script>
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
        <script>
            
                var socket = io();
    
                socket.emit('joining msg', name);
    
                $('form').submit(function(e) {
                    e.preventDefault();            // will prevent page reloading
                      socket.emit('chat message', (name + ':  ' + $('#m').val()));
                            $('#messages').append($('<li id="list">').text('You:  ' + $('#m').val()));
                      $('#m').val('');
                      return false;
                });
                socket.on('chat message', function(msg){
                      $('#messages').append($('<li>').text(msg));
                });
              
        </script>
    </main>
</body>
</html>